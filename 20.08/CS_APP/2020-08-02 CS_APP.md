# 2020-08-02 CS_APP

## Review

- 1억개 숫자 찾아보기 문제 => 직접 코드를 작성해볼것: 16개 숫자를 몇개 있는지로 줄여서 해볼것. 
  - 16 => 0 ~ 15 
  - int bitspace = 0; => 32 bit니까 0이 32개가 있는것
  - bit space |= **(1<<3)** : shift 연산 (이거 한번 공부해야 될듯?)
- 폰노이만 vs 하버드 구조
  - ![폰노이만](C:\Users\User\Desktop\Project\TIL\20.08\CS_APP\images\폰노이만.png)
  - 폰노이만 구조의 경우에는 Data Memory, Program Memory가 구분이 되어있지 않지만 하버드구조의 경우는 그 둘이 구분되어 있다. 하버드 구조는 READ와 데이터처리를 동시에 할 수 있어서 폰노이만 구조의 병목현상을 해결할 수 있다. => **그럼에도 폰노이만 구조를 선택한 이유는 무엇일까?**
  - 폰노이만 구조에서는 하나의 버스를 통해 전달된다. **폰노이만 구조는 Flexible하다.** (이게 무슨 말이었는지 생각할것.)
  - **코드영역 data, code stock heap 그려서 이해하기**
  - 최근 CPU 설계할 때 SRAM 연결된 방식이 하버드구조라고 함
  - 검색하는 방식: original source를 항상 찾아볼것 => 공식문서를 보아라, 언어 창시자의 블로그를 찾아봐라.
  - cf) 네이버 블로그의 전략 => https://sungmooncho.com/2010/03/21/naver/
- 6.2.2 마지막 단락
  - **3장 읽어야된다!!!**
  - GDB써보기. (Debugging 도구)
  - -it -v pwd => **머지? 공부하자**. (pwd: present working directory) $() => 실행의 결과값을 ()안에 넣는 것(**이거 맞나? 확인할 것.**)
  - 0x DEAD BEEF (재밌음) => A ~ F 밖에 쓸 수 없는 16진법 특성상 의미있고 재밌는 단어를 쓴 것
  - **지역변수는 stack에 들어갑니다.**
  - **malloc은 힙에 들어갑니다.**
  - virtual address 마지막 주소는 사실 kernel이 차지하고 있다.
  - **과제 한번 해볼것(gdb돌려 virtual memory 확인하기)** => Docker 공부까지 됨
  - %rbp가 stack과 관련있는 레지스터
  - %rax의 의미는 malloc heap address이다. (항상 그런건 아님. => 이 예시에서 그런것.)
  - **p는 레지스터의 값을 읽는 명령어 (PPT에 있는 명령어 공부할 것)**
  - 0x200aec(%rip) => $rip + 0x200aec (rip가 참조하는 virtual memory 주소에서 0x200aex만큼 더하라.)
- 6.2.3 질문한것
  - for loop는 the smaller loop body, the bigger the interation => 왜 spatial, temporal locality가 좋아질까? => 결국 code instruction은 virtual memory의 code 영역안에 특정주소에 저장된다. for문은 반복적으로 해당 virtual memory의 instruction을 수행하기 때문에 interation이 잦을수록 temporal locality가 올라간다. 그리고 만약 for loop body가 길어진다면 (일정기간 넘어가서 cache크기를 넘어가면) 더이상 spatial locality를 활용할 수가 없기에, for loop body가 작을 수록 spatial locality가 커진다. (code를 읽을 때는 해당 byte만 읽는 것이 아닌 주변을 같이 읽는다.)
  - **for문도 gdb 이용해서 해볼것**
  - 간단한 recursion 함수를 만들어서 stack도 살펴볼것
- 네트워크
  - 각종 명령어 공부할 것
  - telnet이란 command 기억할것
  - telnet 중요!!
  - ping은 **ICMP** Network Layer에서 사용하는 프로토콜이다.
- CIDR 표기법에대해서 공부 (**중요!!**)
  - 10.0.0.0 /24 => 10.0.0.0 ~ 10.0.0.255 netmask: 0xffffff00
  - 네트워크를 관리하기위한 IP Address 표기법
- Switch, Router, NAT 개념 공부하기 (**해당 PPT에 있는 다양한 명령어 숙지**)
  - Switch는 내부 네트워크 개념에서 자동으로 IP가 할당되는것(먼가 좀 부족한듯?) Data Link Layer에 존재
  - 외부로 나갈 때 Router를 거쳐서 나가게끔 되어있다. 두개의 네트워크를 연결하는 역할. (내가 있는 네트워크에서 멀리 떨어진 네트워크에 연결하고 싶어!)
  - 예를 들어, 현재 내 IP가 192.168.1.10이라 하고 여기서 구글에 접속한다고 생각해보자. 구글 서버에서는 내 IP가 192.168.1.10이라는 사실을 알 수없다. (내부적으로 192.168.1.10이라는 IP를 가진 기기는 너무 많음) 따라서 NAT는 google에 요청을 전달할 때 해당 Private IP를 Public IP로 전환 후 전달한다.
  - 꼭 공유기만 NAT이 될 수 있는게 아니고 리눅스 컴퓨터도 가능하다.